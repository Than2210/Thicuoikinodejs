<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="/css/login.css">
</head>

<body>
    <div class="header">
        <h1>PROJECT</h1>
    </div>
    <div class="hero">
        <div class="form-box">
            <div class="div button-box">
                <div id="btn"></div>
                <button type="button" class="toggle-btn" onclick="login()">Log In</button>
                <button type="button" class="toggle-btn" onclick="register()">Register</button>
            </div>

            <div class="social-icons">
                <img src="https://assets.codepen.io/3950346/IG.png" alt="" />
                <img src="https://assets.codepen.io/3950346/FB.png" alt="" />
                <img src="https://assets.codepen.io/3950346/YT.png" alt="" />
            </div>

            <form id="login" class="input-group" action="/login" method="post">
                <input type="text" class="input-field" name="username" placeholder="Username" required>
                <input type="password" class="input-field" name="password" placeholder="Password" required>
                <input type="checkbox" class="check-box"><span>Remember Password</span>
                <button class="submit-btn" type="submit">Log In</button>
            </form>

            <form id="register" class="input-group" action="/signup" method="post">
                <input type="text" class="input-field" name="username" placeholder="Username" required>
                <input type="password" class="input-field" name="password" placeholder="Password" required>
                <input type="checkbox" class="check-box"><span>I agree to the terms & conditions</span>
                <button class="submit-btn" type="submit">Register</button>
            </form>
        </div>
    </div>
    <script>
        var x = document.getElementById("login");
        var y = document.getElementById("register");
        var z = document.getElementById("btn");
        const error = {
            existing: 'Username already exists',
            invalid: 'Invalid username or password'
        };
        function register() {
            x.style.left = "-400px";
            y.style.left = "50px";
            z.style.left = "110px";
        }

        function login() {
            x.style.left = "50px";
            y.style.left = "450px";
            z.style.left = "0px";
        }

        setTimeout(() => {
            if (window.location.href.includes('signup')) {
                register()
            }
            if (window.location.href.includes('login')) {
                login()
            }
            // check error
            const url = new URL(window.location.href);
            const errorType = url.searchParams.get('error');
            if (errorType) {
                alert(error[errorType]);
            }
        }, 100);
    </script>
</body>

</html>